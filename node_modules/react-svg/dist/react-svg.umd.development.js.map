{"version":3,"file":"react-svg.umd.development.js","sources":["../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/inheritsLoose.js","../node_modules/@tanem/svg-injector/src/clone-svg.ts","../node_modules/@tanem/svg-injector/src/is-local.ts","../node_modules/@tanem/svg-injector/src/svg-cache.ts","../node_modules/@tanem/svg-injector/src/request-queue.ts","../node_modules/@tanem/svg-injector/src/load-svg.ts","../node_modules/@tanem/svg-injector/src/unique-id.ts","../node_modules/@tanem/svg-injector/src/inject-element.ts","../node_modules/@tanem/svg-injector/src/types.ts","../node_modules/@tanem/svg-injector/src/svg-injector.ts","../compiled/shallow-differs.js","../compiled/index.js"],"sourcesContent":["function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","const cloneSvg = (sourceSvg: HTMLElement | SVGSVGElement) =>\n  sourceSvg.cloneNode(true) as Element\n\nexport default cloneSvg\n","const isLocal = () => window.location.protocol === 'file:'\n\nexport default isLocal\n","const svgCache = new Map<\n  string,\n  HTMLElement | SVGSVGElement | Error | undefined\n>()\n\nexport default svgCache\n","import cloneSvg from './clone-svg'\nimport svgCache from './svg-cache'\nimport { Errback } from './types'\n\nlet requestQueue: { [key: string]: Errback[] } = {}\n\nexport const clear = () => {\n  requestQueue = {}\n}\n\nexport const queueRequest = (url: string, callback: Errback) => {\n  requestQueue[url] = requestQueue[url] || []\n  requestQueue[url].push(callback)\n}\n\nexport const processRequestQueue = (url: string) => {\n  for (let i = 0, len = requestQueue[url].length; i < len; i++) {\n    // Make these calls async so we avoid blocking the page/renderer.\n    setTimeout(() => {\n      /* istanbul ignore else */\n      if (Array.isArray(requestQueue[url])) {\n        const cacheValue = svgCache.get(url)\n        const callback = requestQueue[url][i]\n\n        /* istanbul ignore else */\n        if (\n          cacheValue instanceof SVGSVGElement ||\n          cacheValue instanceof HTMLElement\n        ) {\n          callback(null, cloneSvg(cacheValue))\n        }\n\n        /* istanbul ignore else */\n        if (cacheValue instanceof Error) {\n          callback(cacheValue)\n        }\n\n        /* istanbul ignore else */\n        if (i === requestQueue[url].length - 1) {\n          delete requestQueue[url]\n        }\n      }\n    }, 0)\n  }\n}\n","import cloneSvg from './clone-svg'\nimport isLocal from './is-local'\nimport { processRequestQueue, queueRequest } from './request-queue'\nimport svgCache from './svg-cache'\nimport { Errback } from './types'\n\nconst loadSvg = (url: string, callback: Errback) => {\n  if (svgCache.has(url)) {\n    const cacheValue = svgCache.get(url)\n\n    if (\n      cacheValue instanceof SVGSVGElement ||\n      cacheValue instanceof HTMLElement\n    ) {\n      callback(null, cloneSvg(cacheValue))\n      return\n    }\n\n    if (cacheValue instanceof Error) {\n      callback(cacheValue)\n      return\n    }\n\n    queueRequest(url, callback)\n\n    return\n  }\n\n  // Seed the cache to indicate we are loading this URL.\n  svgCache.set(url, undefined)\n  queueRequest(url, callback)\n\n  const httpRequest = new XMLHttpRequest()\n\n  httpRequest.onreadystatechange = () => {\n    try {\n      if (httpRequest.readyState === 4) {\n        if (httpRequest.status === 404 || httpRequest.responseXML === null) {\n          throw new Error(\n            isLocal()\n              ? 'Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver.'\n              : 'Unable to load SVG file: ' + url\n          )\n        }\n\n        if (\n          httpRequest.status === 200 ||\n          (isLocal() && httpRequest.status === 0)\n        ) {\n          /* istanbul ignore else */\n          if (httpRequest.responseXML instanceof Document) {\n            /* istanbul ignore else */\n            if (httpRequest.responseXML.documentElement) {\n              svgCache.set(url, httpRequest.responseXML.documentElement)\n            }\n          }\n          processRequestQueue(url)\n        } else {\n          throw new Error(\n            'There was a problem injecting the SVG: ' +\n              httpRequest.status +\n              ' ' +\n              httpRequest.statusText\n          )\n        }\n      }\n    } catch (error) {\n      svgCache.set(url, error)\n      processRequestQueue(url)\n    }\n  }\n\n  httpRequest.open('GET', url)\n\n  // Treat and parse the response as XML, even if the server sends us a\n  // different mimetype.\n  /* istanbul ignore else */\n  if (httpRequest.overrideMimeType) {\n    httpRequest.overrideMimeType('text/xml')\n  }\n\n  httpRequest.send()\n}\n\nexport default loadSvg\n","let idCounter = 0\nconst uniqueId = () => ++idCounter\nexport default uniqueId\n","import loadSvg from './load-svg'\nimport { BeforeEach, Errback, EvalScripts } from './types'\nimport uniqueId from './unique-id'\n\ntype ElementType = Element | HTMLElement | null\n\nconst injectedElements: ElementType[] = []\nconst ranScripts: { [key: string]: boolean } = {}\nconst svgNamespace = 'http://www.w3.org/2000/svg'\nconst xlinkNamespace = 'http://www.w3.org/1999/xlink'\n\nconst injectElement = (\n  el: NonNullable<ElementType>,\n  evalScripts: EvalScripts,\n  renumerateIRIElements: boolean,\n  beforeEach: BeforeEach,\n  callback: Errback\n) => {\n  const imgUrl = el.getAttribute('data-src') || el.getAttribute('src')\n\n  /* istanbul ignore else */\n  if (!imgUrl || !/\\.svg/i.test(imgUrl)) {\n    callback(\n      new Error(\n        'Attempted to inject a file with a non-svg extension: ' + imgUrl\n      )\n    )\n    return\n  }\n\n  // Make sure we aren't already in the process of injecting this element to\n  // avoid a race condition if multiple injections for the same element are run.\n  // :NOTE: Using indexOf() only _after_ we check for SVG support and bail, so\n  // no need for IE8 indexOf() polyfill.\n  /* istanbul ignore else */\n  if (injectedElements.indexOf(el) !== -1) {\n    // TODO: Extract.\n    injectedElements.splice(injectedElements.indexOf(el), 1)\n    ;(el as ElementType) = null\n    return\n  }\n\n  // Remember the request to inject this element, in case other injection calls\n  // are also trying to replace this element before we finish.\n  injectedElements.push(el)\n\n  // Try to avoid loading the orginal image src if possible.\n  el.setAttribute('src', '')\n\n  loadSvg(imgUrl, (error, svg) => {\n    /* istanbul ignore else */\n    if (!svg) {\n      // TODO: Extract.\n      injectedElements.splice(injectedElements.indexOf(el), 1)\n      ;(el as ElementType) = null\n      callback(error)\n      return\n    }\n\n    const imgId = el.getAttribute('id')\n    /* istanbul ignore else */\n    if (imgId) {\n      svg.setAttribute('id', imgId)\n    }\n\n    const imgTitle = el.getAttribute('title')\n    /* istanbul ignore else */\n    if (imgTitle) {\n      svg.setAttribute('title', imgTitle)\n    }\n\n    const imgWidth = el.getAttribute('width')\n    /* istanbul ignore else */\n    if (imgWidth) {\n      svg.setAttribute('width', imgWidth)\n    }\n\n    const imgHeight = el.getAttribute('height')\n    /* istanbul ignore else */\n    if (imgHeight) {\n      svg.setAttribute('height', imgHeight)\n    }\n\n    const mergedClasses = Array.from(\n      new Set([\n        ...(svg.getAttribute('class') || '').split(' '),\n        'injected-svg',\n        ...(el.getAttribute('class') || '').split(' ')\n      ])\n    )\n      .join(' ')\n      .trim()\n    svg.setAttribute('class', mergedClasses)\n\n    const imgStyle = el.getAttribute('style')\n    /* istanbul ignore else */\n    if (imgStyle) {\n      svg.setAttribute('style', imgStyle)\n    }\n\n    svg.setAttribute('data-src', imgUrl)\n\n    // Copy all the data elements to the svg.\n    const imgData = [].filter.call(el.attributes, (at: Attr) => {\n      return /^data-\\w[\\w-]*$/.test(at.name)\n    })\n\n    Array.prototype.forEach.call(imgData, (dataAttr: Attr) => {\n      /* istanbul ignore else */\n      if (dataAttr.name && dataAttr.value) {\n        svg.setAttribute(dataAttr.name, dataAttr.value)\n      }\n    })\n\n    /* istanbul ignore else */\n    if (renumerateIRIElements) {\n      // Make sure any internally referenced clipPath ids and their clip-path\n      // references are unique.\n      //\n      // This addresses the issue of having multiple instances of the same SVG\n      // on a page and only the first clipPath id is referenced.\n      //\n      // Browsers often shortcut the SVG Spec and don't use clipPaths contained\n      // in parent elements that are hidden, so if you hide the first SVG\n      // instance on the page, then all other instances lose their clipping.\n      // Reference: https://bugzilla.mozilla.org/show_bug.cgi?id=376027\n\n      // Handle all defs elements that have iri capable attributes as defined by\n      // w3c: http://www.w3.org/TR/SVG/linking.html#processingIRI. Mapping IRI\n      // addressable elements to the properties that can reference them.\n      const iriElementsAndProperties: { [key: string]: string[] } = {\n        clipPath: ['clip-path'],\n        'color-profile': ['color-profile'],\n        cursor: ['cursor'],\n        filter: ['filter'],\n        linearGradient: ['fill', 'stroke'],\n        marker: ['marker', 'marker-start', 'marker-mid', 'marker-end'],\n        mask: ['mask'],\n        path: [],\n        pattern: ['fill', 'stroke'],\n        radialGradient: ['fill', 'stroke']\n      }\n\n      let element\n      let elements\n      let properties\n      let currentId: string\n      let newId: string\n\n      Object.keys(iriElementsAndProperties).forEach(key => {\n        element = key\n        properties = iriElementsAndProperties[key]\n\n        elements = svg.querySelectorAll(element + '[id]')\n        for (let a = 0, elementsLen = elements.length; a < elementsLen; a++) {\n          currentId = elements[a].id\n          newId = currentId + '-' + uniqueId()\n\n          // All of the properties that can reference this element type.\n          let referencingElements\n          Array.prototype.forEach.call(properties, (property: string) => {\n            // :NOTE: using a substring match attr selector here to deal with IE\n            // \"adding extra quotes in url() attrs\".\n            referencingElements = svg.querySelectorAll(\n              '[' + property + '*=\"' + currentId + '\"]'\n            )\n            for (\n              let b = 0, referencingElementLen = referencingElements.length;\n              b < referencingElementLen;\n              b++\n            ) {\n              const attrValue: string | null = referencingElements[\n                b\n              ].getAttribute(property)\n              if (\n                attrValue &&\n                !attrValue.match(new RegExp('url\\\\(#' + currentId + '\\\\)'))\n              ) {\n                continue\n              }\n              referencingElements[b].setAttribute(\n                property,\n                'url(#' + newId + ')'\n              )\n            }\n          })\n\n          const allLinks = svg.querySelectorAll('[*|href]')\n          const links = []\n          for (let c = 0, allLinksLen = allLinks.length; c < allLinksLen; c++) {\n            const href = allLinks[c].getAttributeNS(xlinkNamespace, 'href')\n            /* istanbul ignore else */\n            if (href && href.toString() === '#' + elements[a].id) {\n              links.push(allLinks[c])\n            }\n          }\n          for (let d = 0, linksLen = links.length; d < linksLen; d++) {\n            links[d].setAttributeNS(xlinkNamespace, 'href', '#' + newId)\n          }\n\n          elements[a].id = newId\n        }\n      })\n    }\n\n    // Remove any unwanted/invalid namespaces that might have been added by SVG\n    // editing tools.\n    svg.removeAttribute('xmlns:a')\n\n    // Post page load injected SVGs don't automatically have their script\n    // elements run, so we'll need to make that happen, if requested.\n\n    // Find then prune the scripts.\n    const scripts = svg.querySelectorAll('script')\n    const scriptsToEval: string[] = []\n    let script\n    let scriptType\n\n    for (let i = 0, scriptsLen = scripts.length; i < scriptsLen; i++) {\n      scriptType = scripts[i].getAttribute('type')\n\n      // Only process javascript types. SVG defaults to 'application/ecmascript'\n      // for unset types.\n      /* istanbul ignore else */\n      if (\n        !scriptType ||\n        scriptType === 'application/ecmascript' ||\n        scriptType === 'application/javascript' ||\n        scriptType === 'text/javascript'\n      ) {\n        // innerText for IE, textContent for other browsers.\n        script = scripts[i].innerText || scripts[i].textContent\n\n        // Stash.\n        /* istanbul ignore else */\n        if (script) {\n          scriptsToEval.push(script)\n        }\n\n        // Tidy up and remove the script element since we don't need it anymore.\n        svg.removeChild(scripts[i])\n      }\n    }\n\n    // Run/Eval the scripts if needed.\n    /* istanbul ignore else */\n    if (\n      scriptsToEval.length > 0 &&\n      (evalScripts === 'always' ||\n        (evalScripts === 'once' && !ranScripts[imgUrl]))\n    ) {\n      for (\n        let l = 0, scriptsToEvalLen = scriptsToEval.length;\n        l < scriptsToEvalLen;\n        l++\n      ) {\n        // :NOTE: Yup, this is a form of eval, but it is being used to eval code\n        // the caller has explictely asked to be loaded, and the code is in a\n        // caller defined SVG file... not raw user input.\n        //\n        // Also, the code is evaluated in a closure and not in the global scope.\n        // If you need to put something in global scope, use 'window'.\n        new Function(scriptsToEval[l])(window)\n      }\n\n      // Remember we already ran scripts for this svg.\n      ranScripts[imgUrl] = true\n    }\n\n    // :WORKAROUND: IE doesn't evaluate <style> tags in SVGs that are\n    // dynamically added to the page. This trick will trigger IE to read and use\n    // any existing SVG <style> tags.\n    //\n    // Reference: https://github.com/iconic/SVGInjector/issues/23.\n    const styleTags = svg.querySelectorAll('style')\n    Array.prototype.forEach.call(styleTags, (styleTag: HTMLStyleElement) => {\n      styleTag.textContent += ''\n    })\n\n    svg.setAttribute('xmlns', svgNamespace)\n    svg.setAttribute('xmlns:xlink', xlinkNamespace)\n\n    beforeEach(svg)\n\n    // Replace the image with the svg.\n    /* istanbul ignore else */\n    if (el.parentNode) {\n      el.parentNode.replaceChild(svg, el)\n    }\n\n    // Now that we no longer need it, drop references to the original element so\n    // it can be GC'd.\n    // TODO: Extract\n    injectedElements.splice(injectedElements.indexOf(el), 1)\n    ;(el as ElementType) = null\n\n    callback(null, svg)\n  })\n}\n\nexport default injectElement\n","/* istanbul ignore file */\n\nexport type AfterAll = (elementsLoaded: number) => void\n\nexport type BeforeEach = (svg: Element) => void\n\nexport type Errback = (error: Error | null, svg?: Element) => void\n\nexport enum EvalScripts {\n  Always = 'always',\n  Once = 'once',\n  Never = 'never'\n}\n","import injectElement from './inject-element'\nimport { AfterAll, BeforeEach, Errback, EvalScripts } from './types'\n\ntype Elements = HTMLCollectionOf<Element> | NodeListOf<Element> | Element | null\n\ninterface OptionalArgs {\n  afterAll?: AfterAll\n  afterEach?: Errback\n  beforeEach?: BeforeEach\n  evalScripts?: EvalScripts\n  renumerateIRIElements?: boolean\n}\n\nconst SVGInjector = (\n  elements: Elements,\n  {\n    afterAll = () => undefined,\n    afterEach = () => undefined,\n    beforeEach = () => undefined,\n    evalScripts = EvalScripts.Never,\n    renumerateIRIElements = true\n  }: OptionalArgs = {}\n) => {\n  if (elements && 'length' in elements) {\n    let elementsLoaded = 0\n    for (let i = 0, j = elements.length; i < j; i++) {\n      injectElement(\n        elements[i],\n        evalScripts,\n        renumerateIRIElements,\n        beforeEach,\n        (error, svg) => {\n          afterEach(error, svg)\n          if (\n            elements &&\n            'length' in elements &&\n            elements.length === ++elementsLoaded\n          ) {\n            afterAll(elementsLoaded)\n          }\n        }\n      )\n    }\n  } else if (elements) {\n    injectElement(\n      elements,\n      evalScripts,\n      renumerateIRIElements,\n      beforeEach,\n      (error, svg) => {\n        afterEach(error, svg)\n        afterAll(1)\n        elements = null\n      }\n    )\n  } else {\n    afterAll(0)\n  }\n}\n\nexport default SVGInjector\n","// Hat-tip: https://github.com/developit/preact-compat/blob/master/src/index.js#L402.\nconst shallowDiffers = (a, b) => {\n    for (const i in a) {\n        if (!(i in b)) {\n            return true;\n        }\n    }\n    for (const i in b) {\n        if (a[i] !== b[i]) {\n            return true;\n        }\n    }\n    return false;\n};\nexport default shallowDiffers;\n","import { SVGInjector } from '@tanem/svg-injector';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport shallowDiffers from './shallow-differs';\nexport default class ReactSVG extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.initialState = {\n            hasError: false,\n            isLoading: true\n        };\n        this.state = this.initialState;\n        this._isMounted = false;\n        this.refCallback = (container) => {\n            this.container = container;\n        };\n    }\n    renderSVG() {\n        /* istanbul ignore else */\n        if (this.container instanceof Node) {\n            const { beforeInjection, evalScripts, renumerateIRIElements, src } = this.props;\n            /* eslint-disable @typescript-eslint/no-non-null-assertion */\n            const afterInjection = this.props.afterInjection;\n            const Wrapper = this.props.wrapper;\n            /* eslint-enable @typescript-eslint/no-non-null-assertion */\n            const wrapper = document.createElement(Wrapper);\n            wrapper.innerHTML = ReactDOMServer.renderToStaticMarkup(React.createElement(Wrapper, null,\n                React.createElement(Wrapper, { \"data-src\": src })));\n            this.svgWrapper = this.container.appendChild(wrapper.firstChild);\n            const afterEach = (error, svg) => {\n                if (error) {\n                    this.removeSVG();\n                }\n                // TODO: It'd be better to cleanly unsubscribe from SVGInjector\n                // callbacks instead of tracking a property like this.\n                if (this._isMounted) {\n                    this.setState(() => ({\n                        hasError: !!error,\n                        isLoading: false\n                    }), () => {\n                        afterInjection(error, svg);\n                    });\n                }\n            };\n            SVGInjector(this.svgWrapper.firstChild, {\n                afterEach,\n                beforeEach: beforeInjection,\n                evalScripts,\n                renumerateIRIElements\n            });\n        }\n    }\n    removeSVG() {\n        if (this.container instanceof Node && this.svgWrapper instanceof Node) {\n            this.container.removeChild(this.svgWrapper);\n            this.svgWrapper = null;\n        }\n    }\n    componentDidMount() {\n        this._isMounted = true;\n        this.renderSVG();\n    }\n    componentDidUpdate(prevProps) {\n        if (shallowDiffers(prevProps, this.props)) {\n            this.setState(() => this.initialState, () => {\n                this.removeSVG();\n                this.renderSVG();\n            });\n        }\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n        this.removeSVG();\n    }\n    render() {\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const { afterInjection, beforeInjection, evalScripts, fallback: Fallback, loading: Loading, renumerateIRIElements, src, wrapper, ...rest } = this.props;\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const Wrapper = wrapper;\n        return (React.createElement(Wrapper, Object.assign({}, rest, { ref: this.refCallback }),\n            this.state.isLoading && Loading && React.createElement(Loading, null),\n            this.state.hasError && Fallback && React.createElement(Fallback, null)));\n    }\n}\nReactSVG.defaultProps = {\n    afterInjection: () => undefined,\n    beforeInjection: () => undefined,\n    evalScripts: 'never',\n    fallback: null,\n    loading: null,\n    renumerateIRIElements: true,\n    wrapper: 'div'\n};\nReactSVG.propTypes = {\n    afterInjection: PropTypes.func,\n    beforeInjection: PropTypes.func,\n    evalScripts: PropTypes.oneOf(['always', 'once', 'never']),\n    fallback: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.object,\n        PropTypes.string\n    ]),\n    loading: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.object,\n        PropTypes.string\n    ]),\n    renumerateIRIElements: PropTypes.bool,\n    src: PropTypes.string.isRequired,\n    wrapper: PropTypes.oneOf(['div', 'span'])\n};\n"],"names":["cloneSvg","sourceSvg","cloneNode","isLocal","window","location","protocol","svgCache","Map","requestQueue","queueRequest","url","callback","push","processRequestQueue","i","len","setTimeout","Array","isArray","cacheValue","get","SVGSVGElement","HTMLElement","Error","length","loadSvg","has","set","undefined","httpRequest","XMLHttpRequest","onreadystatechange","readyState","status","responseXML","Document","documentElement","statusText","error","open","overrideMimeType","send","idCounter","uniqueId","injectedElements","ranScripts","svgNamespace","xlinkNamespace","injectElement","el","evalScripts","renumerateIRIElements","beforeEach","imgUrl","getAttribute","test","indexOf","splice","setAttribute","svg","imgId","imgTitle","imgWidth","imgHeight","mergedClasses","from","Set","split","join","trim","imgStyle","imgData","filter","call","attributes","at","name","prototype","forEach","dataAttr","value","iriElementsAndProperties_1","clipPath","cursor","linearGradient","marker","mask","path","pattern","radialGradient","element_1","elements_1","properties_1","currentId_1","newId_1","Object","keys","key","querySelectorAll","a","elementsLen","id","referencingElements","property","b","referencingElementLen","attrValue","match","RegExp","allLinks","links","c","allLinksLen","href","getAttributeNS","toString","d","linksLen","setAttributeNS","removeAttribute","scripts","scriptsToEval","script","scriptType","scriptsLen","innerText","textContent","removeChild","l","scriptsToEvalLen","Function","styleTags","styleTag","parentNode","replaceChild","EvalScripts","SVGInjector","elements","_a","_b","_c","afterAll","_d","afterEach","_e","_f","_g","elementsLoaded_1","j","shallowDiffers","ReactSVG","arguments","initialState","hasError","isLoading","state","_isMounted","refCallback","container","renderSVG","Node","props","beforeInjection","src","afterInjection","Wrapper","wrapper","document","createElement","innerHTML","ReactDOMServer","renderToStaticMarkup","React","svgWrapper","appendChild","firstChild","removeSVG","setState","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","render","Fallback","fallback","Loading","loading","rest","assign","ref","defaultProps","propTypes","PropTypes","isRequired"],"mappings":"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"}